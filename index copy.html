<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #121212;
        color: #ffffff;
      }

      .logo-section {
        text-align: center;
        margin-bottom: 30px;
      }

      .logo-section img {
        max-height: 60px;
      }

      .checkout-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
      }

      .checkout-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
      }

      .order-preview,
      .your-info,
      .challenge-conditions {
        background-color: #1e1e1e;
        padding: 30px;
        border-radius: 10px;
      }

      .order-preview h2,
      .your-info h2,
      .challenge-conditions h2 {
        margin-top: 0;
        margin-bottom: 20px;
        color: #f7c843;
      }

      .challenge-conditions {
        grid-column: 1 / -1;
        margin-top: 30px;
        overflow-x: auto;
        background-color: #1e1e1e;
        padding: 30px;
        border-radius: 10px;
      }

      .challenge-conditions table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        table-layout: fixed;
      }

      .challenge-conditions th,
      .challenge-conditions td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #333;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }

      .challenge-conditions th:first-child,
      .challenge-conditions td:first-child {
        width: 25%;
      }

      .challenge-conditions th:not(:first-child),
      .challenge-conditions td:not(:first-child) {
        width: 18.75%;
      }

      .challenge-conditions tr:nth-child(even) {
        background-color: #2d2d2d;
      }

      .challenge-conditions td:first-child {
        font-weight: bold;
        color: #f7c843;
      }

      .challenge-conditions td.highlight {
        background-color: rgba(247, 200, 67, 0.1);
        animation: pulse 1s ease;
      }

      @keyframes pulse {
        0% {
          background-color: rgba(247, 200, 67, 0.3);
        }
        100% {
          background-color: rgba(247, 200, 67, 0.1);
        }
      }

      .challenge-conditions .important {
        margin-top: 20px;
        font-size: 0.9em;
        color: #888;
      }

      .challenge-conditions .important a {
        color: #f7c843;
        text-decoration: none;
      }

      .challenge-conditions .important a:hover {
        text-decoration: underline;
      }

      @media (max-width: 768px) {
        .challenge-conditions {
          grid-column: 1;
          margin-top: 30px;
          overflow-x: hidden;
        }

        .challenge-conditions table {
          margin-top: 10px;
        }

        .challenge-conditions th,
        .challenge-conditions td {
          padding: 6px;
          font-size: 11px;
        }

        .challenge-conditions td:first-child {
          font-size: 10px;
        }
      }

      @media (max-width: 768px) {
        .challenge-conditions h2 {
          text-align: center;
          font-size: 16px;
        }

        .challenge-conditions .initial-message {
          font-size: 11px;
          padding: 10px;
        }

        .challenge-conditions .important {
          font-size: 8px;
          margin-top: 8px;
          text-align: center;
        }

        .challenge-conditions .important a {
          font-size: 8px;
        }
      }

      @media (max-width: 480px) {
        .challenge-conditions .initial-message {
          font-size: 10px;
          padding: 8px;
        }

        .challenge-conditions .important {
          font-size: 7px;
        }

        .challenge-conditions .important a {
          font-size: 7px;
        }
      }

      .button-group {
        display: flex;
        gap: 10px;
      }

      .button-group button {
        flex: 1;
        padding: 10px;
        border: none;
        border-radius: 5px;
        background-color: #2d2d2d;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .button-group button.active,
      .button-group button.selected {
        background-color: #f7c843;
        color: #121212;
      }

      .amount-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-top: 10px;
      }

      .amount-grid button {
        padding: 10px;
        border: none;
        border-radius: 5px;
        background-color: #2d2d2d;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .amount-grid button.active,
      .amount-grid button.selected {
        background-color: #f7c843;
        color: #121212;
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 12px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
        margin-bottom: 8px;
      }

      .form-group label {
        font-weight: bold;
        color: #f7c843;
        font-size: 13px;
      }

      .form-group input,
      .form-group select {
        padding: 6px 8px;
        border: 1px solid #444;
        border-radius: 5px;
        background-color: #2d2d2d;
        color: #ffffff;
        width: 90%;
        font-size: 13px;
        height: 20px;
      }

      .form-group #country {
        height: 30px;
      }

      .info-icon {
        color: #f7c843;
        font-size: 0.8em;
        cursor: help;
      }

      .terms-group {
        margin: 15px 0;
      }

      .terms-group a {
        color: #f7c843;
        text-decoration: none;
      }

      .terms-group a:hover {
        text-decoration: underline;
      }

      .payment-due {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 20px 0;
      }

      .total-amount {
        font-size: 1.5em;
        font-weight: bold;
        color: #f7c843;
      }

      .checkout-button {
        background-color: #f7c843;
        color: #121212;
        padding: 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        width: 100%;
        margin-top: 0px;
        transition: background-color 0.3s;
      }

      .checkout-button:hover {
        background-color: #d1a736;
      }

      .challenge-type-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
        margin-top: 15px;
      }

      .challenge-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 15px;
        background: #2d2d2d;
        border: 2px solid transparent;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .challenge-card img {
        width: 100%;
        height: 120px;
        object-fit: contain;
        border-radius: 8px;
      }

      .challenge-card span {
        font-weight: bold;
        color: #ffffff;
      }

      .challenge-card:hover {
        background: #363636;
        transform: translateY(-2px);
      }

      .challenge-card.selected {
        border-color: #f7c843;
        background: #363636;
      }

      .phone-input-group {
        display: grid;
        grid-template-columns: 80px 1fr;
        gap: 10px;
        margin-bottom: 8px;
      }

      .phone-input-group select {
        padding: 6px 8px;
        height: 30px;
      }

      .payment-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }

      .payment-modal.active {
        display: flex;
      }

      .modal-content {
        background: #1e1e1e;
        padding: 30px;
        border-radius: 10px;
        max-width: 500px;
        width: 90%;
        position: relative;
      }

      .modal-content h2 {
        text-align: center;
      }

      .payment-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 20px;
      }

      .payment-option {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 15px 25px;
        background: linear-gradient(45deg, #2d2d2d, #363636);
        border-radius: 8px;
        border: 1px solid #3d3d3d;
        transition: all 0.3s ease;
        width: 100%;
        cursor: pointer;
        color: white;
        text-align: center;
        font-size: 16px;
        min-height: 60px;
      }

      .payment-option:hover {
        background: linear-gradient(45deg, #363636, #404040);
        border-color: #f7c843;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .payment-method {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        width: 100%;
      }

      .payment-method img {
        width: 32px;
        height: 32px;
        object-fit: contain;
      }

      .crypto-discount {
        color: #4caf50;
        font-size: 8px;
        margin-top: 5px;
        text-align: center;
      }

      /* Remove payment processing logo */
      .payment-processing-logo {
        display: none;
      }

      /* Validation highlighting */
      .validation-error {
        border: 2px solid #ff4444 !important;
        background-color: rgba(255, 68, 68, 0.05) !important;
      }

      /* Mobile Styles */
      @media (max-width: 768px) {
        .benefits-card {
          transform: scale(1.1);
          margin: 15px 0;
        }

        .total-payment-section {
          text-align: center;
          margin: 20px 0;
          padding: 15px;
          background: #2d2d2d;
          border-radius: 8px;
        }

        .scroll-to-conditions {
          display: inline-block;
          color: #f7c843;
          text-decoration: none;
          margin-top: 10px;
          padding: 8px 16px;
          background: rgba(247, 200, 67, 0.1);
          border-radius: 4px;
          transition: all 0.3s ease;
        }

        .payment-method img {
          width: 40px;
          height: 40px;
        }

        .support-button {
          padding: 10px 15px;
          font-size: 14px;
        }

        .support-widget {
          bottom: 15px;
          right: 15px;
        }
      }

      .close-modal {
        position: absolute;
        top: 10px;
        right: 15px;
        color: #fff;
        cursor: pointer;
        font-size: 24px;
      }

      .selected-amount {
        text-align: center;
        color: #ffffff;
        font-size: 0.9em;
        margin-bottom: 20px;
      }

      .selected-amount .price {
        color: #f7c843;
      }

      .error-message {
        color: #ff4444;
        font-size: 0.9em;
        margin-top: 4px;
        display: none;
      }

      .error .error-message {
        display: block;
      }

      .error input,
      .error select {
        border-color: #ff4444 !important;
      }

      @media (max-width: 768px) {
        .checkout-grid {
          grid-template-columns: 1fr;
        }

        .challenge-conditions {
          grid-column: 1;
          margin-top: 30px;
        }

        .challenge-type-grid {
          grid-template-columns: 1fr;
        }

        .form-row {
          grid-template-columns: 1fr 1fr;
          gap: 10px;
          margin-bottom: 10px;
        }

        .form-group {
          gap: 4px;
          margin-bottom: 8px;
        }

        .form-group label {
          font-size: 12px;
        }

        .form-group input,
        .form-group select {
          padding: 3px 3px;
          font-size: 12px;
        }

        .phone-input-group {
          display: grid;
          grid-template-columns: 80px 1fr;
          gap: 10px;
          margin-bottom: 10px;
        }
      }

      .trust-elements {
        margin-top: 15px;
      }

      .security-badges {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin: 10px 0;
        flex-wrap: wrap;
        font-size: 0.75em;
      }

      .security-badge {
        display: flex;
        align-items: center;
        gap: 4px;
        background: #2d2d2d;
        padding: 4px 8px;
        border-radius: 3px;
      }

      .security-badge i {
        color: #4caf50;
      }

      .payment-processors {
        display: none; /* Hide payment processor tags */
      }

      .payment-processors img {
        height: 16px;
        width: auto;
        object-fit: contain;
        opacity: 0.7;
        transition: opacity 0.3s;
      }

      .payment-processors img:hover {
        opacity: 1;
      }

      .tooltip {
        position: relative;
        display: inline-block;
      }

      .tooltip .tooltiptext {
        visibility: hidden;
        width: 200px;
        background-color: #2d2d2d;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 10px;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
        transition: opacity 0.3s;
        font-size: 0.9em;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      .tooltip:hover .tooltiptext {
        visibility: visible;
        opacity: 1;
      }

      .loading {
        position: relative;
        pointer-events: none;
      }

      .loading:after {
        content: "";
        position: absolute;
        width: 20px;
        height: 20px;
        top: 50%;
        left: 50%;
        margin: -10px 0 0 -10px;
        border: 3px solid #f3f3f3;
        border-top: 3px solid #f7c843;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .faq-section {
        margin-top: 40px;
        padding: 20px;
        background: #2d2d2d;
        border-radius: 10px;
      }

      .faq-item {
        margin-bottom: 15px;
      }

      .faq-question {
        padding: 15px;
        background: #363636;
        border-radius: 5px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .faq-answer {
        padding: 15px;
        display: none;
        background: #2d2d2d;
        border-radius: 0 0 5px 5px;
      }

      .faq-question.active + .faq-answer {
        display: block;
      }

      .support-widget {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
      }

      .support-button {
        background: #f7c843;
        color: #121212;
        padding: 12px 24px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: bold;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s;
      }

      .support-button:hover {
        transform: translateY(-2px);
      }

      @media (max-width: 768px) {
        .checkout-steps {
          flex-direction: column;
          gap: 10px;
        }

        .step:not(:last-child):after {
          content: "↓";
          position: absolute;
          bottom: -20px;
          right: 50%;
        }

        .security-badges {
          flex-direction: row;
        }

        .support-widget {
          bottom: 10px;
          right: 10px;
          left: 10px;
        }

        .support-button {
          width: 100%;
          justify-content: center;
        }
      }

      @media (max-width: 768px) {
        .modal-content {
          padding: 20px;
        }

        .selected-amount {
          font-size: 0.95em;
        }

        .payment-options {
          grid-template-columns: 1fr 1fr;
        }

        .payment-option {
          padding: 10px 15px;
          font-size: 0.95em;
        }

        .redirect-notice {
          font-size: 0.75em;
          margin-top: 15px;
          white-space: nowrap;
        }
      }

      .redirect-notice {
        text-align: center;
        color: #888;
        font-size: 0.75em;
        margin-top: 15px;
        white-space: nowrap;
      }

      @media (max-width: 768px) {
        .redirect-notice {
          font-size: 6px;
        }

        .mobile-payment-section {
          text-align: center;
          margin: 20px 0;
          padding: 15px;
          background: #2d2d2d;
          border-radius: 8px;
        }

        .mobile-payment-section .total-amount {
          font-size: 1.3em;
          margin: 10px 0;
        }

        .scroll-to-conditions {
          display: inline-block;
          color: #f7c843;
          text-decoration: none;
          margin-top: 10px;
          padding: 8px 16px;
          background: rgba(247, 200, 67, 0.1);
          border-radius: 4px;
          transition: all 0.3s ease;
          font-size: 0.9em;
        }

        .scroll-to-conditions:hover {
          background: rgba(247, 200, 67, 0.2);
        }
      }

      .payment-option {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 15px 25px;
        background: linear-gradient(45deg, #2d2d2d, #363636);
        border-radius: 8px;
        border: 1px solid #3d3d3d;
        transition: all 0.3s ease;
        width: 100%;
        cursor: pointer;
        color: white;
        text-align: center;
        font-size: 16px;
        min-height: 60px;
      }

      .payment-option:hover {
        background: linear-gradient(45deg, #363636, #404040);
        border-color: #f7c843;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .payment-option i {
        margin-right: 5px;
      }

      .benefit-item {
        flex: 1;
        min-width: 0;
        background: #2d2d2d;
        padding: 15px;
        border-radius: 8px;
        text-align: center;
      }

      .benefit-item .benefit-icon {
        font-size: 24px;
        display: block;
        margin-bottom: 8px;
      }

      .benefit-item h4 {
        margin: 8px 0;
        font-size: 10px;
      }

      .benefit-item p {
        margin: 0;
        font-size: 8px;
        color: #999;
      }

      .benefit-item:hover {
        background: #363636;
        transform: translateY(-2px);
      }

      .benefit-icon {
        font-size: 1.1em;
        color: #f7c843;
      }

      .metrics-container {
        max-width: 100%;
        overflow-x: auto;
        margin-top: 20px;
        background: #2d2d2d;
        border-radius: 8px;
        padding: 15px;
      }

      .metrics-table {
        width: 100%;
        border-collapse: collapse;
        background: #1e1e1e;
        border-radius: 8px;
        overflow: hidden;
      }

      .metrics-table th,
      .metrics-table td {
        padding: 12px;
        text-align: center;
        border: 1px solid #333;
      }

      .metrics-table th {
        background: #2d2d2d;
        color: #f7c843;
        font-weight: bold;
        white-space: nowrap;
      }

      .metrics-row-header {
        color: #f7c843;
        text-align: left;
        font-weight: bold;
        background: #2d2d2d;
        white-space: nowrap;
      }

      .metrics-table td {
        transition: background-color 0.3s ease;
      }

      .metrics-table td.highlight {
        background-color: rgba(247, 200, 67, 0.1);
        animation: pulse 1s ease;
      }

      @keyframes pulse {
        0% {
          background-color: rgba(247, 200, 67, 0.3);
        }
        100% {
          background-color: rgba(247, 200, 67, 0.1);
        }
      }

      @media (max-width: 768px) {
        .metrics-container {
          position: relative;
        }

        .metrics-container::before {
          content: "⟺";
          position: absolute;
          top: 50%;
          right: 10px;
          transform: translateY(-50%);
          color: #f7c843;
          font-size: 24px;
          animation: swipeHint 1.5s ease-in-out infinite;
          z-index: 2;
          opacity: 0.8;
        }

        @keyframes swipeHint {
          0%,
          100% {
            transform: translateY(-50%) translateX(0);
          }
          50% {
            transform: translateY(-50%) translateX(-10px);
          }
        }

        .metrics-container.scrolled::before {
          display: none;
        }
      }

      .benefits-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
        margin: 20px 0;
      }

      @media (max-width: 768px) {
        .benefits-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 3px;
          margin: 8px 0;
          padding: 0;
        }

        .benefit-item {
          padding: 4px;
          min-width: auto;
          width: 100%;
          background: transparent;
        }

        .benefit-item h4 {
          font-size: 7px;
          margin: 1px 0;
          white-space: nowrap;
        }

        .benefit-item p {
          font-size: 5px;
          margin: 0;
          white-space: nowrap;
        }

        .benefit-item .benefit-icon {
          font-size: 10px;
          margin-bottom: 1px;
        }

        .security-badges {
          display: flex;
          justify-content: center;
          gap: 4px;
          margin: 5px 0;
          flex-wrap: nowrap;
        }

        .security-badge {
          padding: 2px 4px;
          font-size: 7px;
          white-space: nowrap;
        }

        .security-badge i {
          font-size: 7px;
        }

        .payment-processors {
          gap: 4px;
          margin: 5px 0;
        }

        .payment-processors img {
          height: 12px;
        }

        .trust-elements {
          margin-top: 10px;
        }
      }

      @media (max-width: 480px) {
        .benefits-grid {
          gap: 2px;
        }

        .benefit-item {
          padding: 2px;
          background-color: #2d2d2d;
          width: 75%;
          margin: auto;
        }

        .benefit-item h4 {
          font-size: 6px;
        }

        .benefit-item p {
          font-size: 4px;
        }

        .benefit-item .benefit-icon {
          font-size: 8px;
        }

        .security-badge {
          padding: 2px 3px;
          font-size: 6px;
        }

        .security-badge i {
          font-size: 6px;
        }

        .payment-processors img {
          height: 10px;
        }
      }

      .payment-option img {
        width: 24px;
        height: 24px;
        object-fit: contain;
      }

      @media (max-width: 768px) {
        .payment-processors img {
          height: 12px;
        }

        .payment-option img {
          width: 20px;
          height: 20px;
        }
      }

      @media (max-width: 480px) {
        .payment-processors img {
          height: 10px;
        }
      }

      .proceed-button {
        background: linear-gradient(45deg, #f7c843, #ffd700);
        color: #000;
        padding: 15px 30px;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        transform: translateY(0);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .proceed-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        background: linear-gradient(45deg, #ffd700, #f7c843);
      }

      .proceed-button:active {
        transform: translateY(1px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      @media (max-width: 768px) {
        .challenge-conditions {
          padding: 15px 10px;
          overflow-x: auto;
          position: relative;
        }

        .challenge-conditions table {
          margin-top: 5px;
          font-size: 12px;
          border-collapse: separate;
          border-spacing: 0;
        }

        .challenge-conditions th,
        .challenge-conditions td {
          padding: 8px;
          white-space: nowrap;
          font-size: 11px;
          min-height: 40px;
          vertical-align: middle;
        }

        .challenge-conditions th:first-child,
        .challenge-conditions td:first-child {
          position: sticky;
          left: 0;
          background: #2d2d2d;
          z-index: 2;
          font-size: 11px;
          padding-right: 12px;
          min-width: 100px;
          border-right: 2px solid #444;
        }

        .challenge-conditions th:first-child {
          z-index: 3;
          background: #2d2d2d;
        }

        .challenge-conditions th:not(:first-child),
        .challenge-conditions td:not(:first-child) {
          font-size: 11px;
          min-width: 80px;
        }

        .challenge-conditions .important {
          font-size: 9px;
          margin-top: 15px;
          text-align: center;
        }

        .challenge-conditions .important a {
          font-size: 9px;
        }

        .challenge-conditions h2 {
          font-size: 16px;
          margin-bottom: 15px;
        }

        .challenge-conditions::before {
          display: none;
        }
      }

      @media (max-width: 480px) {
        .challenge-conditions table {
          font-size: 11px;
        }

        .challenge-conditions th,
        .challenge-conditions td {
          padding: 8px;
          font-size: 10px;
        }

        .challenge-conditions th:first-child,
        .challenge-conditions td:first-child {
          font-size: 10px;
          min-width: 90px;
        }

        .challenge-conditions th:not(:first-child),
        .challenge-conditions td:not(:first-child) {
          font-size: 10px;
          min-width: 70px;
        }

        .challenge-conditions .important {
          font-size: 8px;
        }

        .challenge-conditions .important a {
          font-size: 8px;
        }
      }
    </style>
  </head>
  <body>
    <div class="logo-section">
      <img
        src="https://images.squarespace-cdn.com/content/676f1b6f4797230745644c91/701fa609-7006-4b39-b4af-38aeaa4d2f0f/Ascend+t+Markets.png?content-type=image%2Fpng"
        alt="Ascendant Markets"
      />
    </div>

    <div class="checkout-container">
      <div class="checkout-grid">
        <!-- Order Preview Section -->
        <div class="order-preview">
          <h2>Order Preview</h2>

          <div class="challenge-type">
            <h3>
              Challenge Type
              <span class="tooltip">
                <span class="info-icon">ⓘ</span>
                <span class="tooltiptext"
                  >Choose your preferred trading challenge type. Each type
                  offers different account sizes and "profit target"s.</span
                >
              </span>
            </h3>
            <div class="challenge-type-grid">
              <button class="challenge-card" data-type="Gauntlet">
                <img
                  src="https://images.squarespace-cdn.com/content/676f1b6f4797230745644c91/88fe01a8-c2a8-41a4-a3da-918187a50baf/40.png"
                  alt="Gauntlet"
                />
                <span>Gauntlet</span>
              </button>
              <button class="challenge-card" data-type="Ascendant">
                <img
                  src="https://images.squarespace-cdn.com/content/676f1b6f4797230745644c91/d5c446e5-e1b3-4072-bb2d-2b1976b9cd28/39.png"
                  alt="Ascendant"
                />
                <span>Ascendant</span>
              </button>
              <button class="challenge-card" data-type="Standard">
                <img
                  src="https://images.squarespace-cdn.com/content/676f1b6f4797230745644c91/d5772431-ab44-4e05-9e4b-462d0a481f71/41.png"
                  alt="Standard"
                />
                <span>Standard</span>
              </button>
            </div>
          </div>

          <div class="challenge-amount" style="display: none">
            <h3>Choose Challenge Amount <span class="info-icon">ⓘ</span></h3>
            <div class="amount-grid"></div>
          </div>

          <div class="platform-select">
            <h3>Select Platform <span class="info-icon">ⓘ</span></h3>
            <div class="button-group platform-buttons">
              <button>Metatrader 4</button>
              <button>Metatrader 5</button>
            </div>
          </div>

          <div class="benefits-section">
            <h3>Why Choose Us</h3>
            <div class="benefits-grid">
              <div class="benefit-item">
                <span class="benefit-icon">⚡</span>
                <h4>Instant Funding</h4>
                <p>Get funded after passing</p>
              </div>
              <div class="benefit-item">
                <span class="benefit-icon">📊</span>
                <h4>Flexible Trading</h4>
                <p>Trade your style</p>
              </div>
              <div class="benefit-item">
                <span class="benefit-icon">💸</span>
                <h4>Reliable Payouts</h4>
                <p>Fast withdrawals</p>
              </div>
              <div class="benefit-item">
                <span class="benefit-icon">🌐</span>
                <h4>24/7 Support</h4>
                <p>Always here to help</p>
              </div>
            </div>
          </div>

          <!-- Add Mobile Payment Section -->
          <div class="mobile-payment-section" style="display: none">
            <h3>Payment Due</h3>
            <div class="total-amount">$0.00</div>
            <button class="scroll-to-conditions" onclick="scrollToConditions()">
              <i class="fas fa-arrow-down"></i> View Challenge Conditions
            </button>
          </div>
        </div>

        <!-- Your Info Section -->
        <div class="your-info">
          <h2>Your Info</h2>
          <form class="checkout-form">
            <div class="form-row">
              <div class="form-group">
                <label for="firstName">First Name *</label>
                <input type="text" id="firstName" required />
              </div>
              <div class="form-group">
                <label for="lastName">Last Name *</label>
                <input type="text" id="lastName" required />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="email">Email *</label>
                <input type="email" id="email" required />
              </div>
              <div class="form-group">
                <label for="dob">Date of Birth *</label>
                <input type="date" id="dob" required max="2006-12-31" />
              </div>
            </div>

            <div class="phone-input-group">
              <div class="form-group">
                <label for="countryCode">Code</label>
                <select id="countryCode" required>
                  <option value="+1">+1</option>
                  <option value="+44">+44</option>
                  <option value="+61">+61</option>
                  <option value="+33">+33</option>
                  <option value="+49">+49</option>
                </select>
              </div>
              <div class="form-group">
                <label for="phone">Phone Number *</label>
                <input
                  type="tel"
                  id="phone"
                  required
                  placeholder="(555) 555-5555"
                />
              </div>
            </div>

            <div class="form-group">
              <label for="country">Country *</label>
              <select id="country" required>
                <option value="">Select Country</option>
                <option value="United States">United States</option>
                <option value="United Kingdom">United Kingdom</option>
                <option value="Canada">Canada</option>
                <option value="Australia">Australia</option>
                <option value="Afghanistan">Afghanistan</option>
                <option value="Albania">Albania</option>
                <option value="Algeria">Algeria</option>
                <option value="Andorra">Andorra</option>
                <option value="Angola">Angola</option>
                <option value="Argentina">Argentina</option>
                <option value="Armenia">Armenia</option>
                <option value="Austria">Austria</option>
                <option value="Azerbaijan">Azerbaijan</option>
                <option value="Bahamas">Bahamas</option>
                <option value="Bahrain">Bahrain</option>
                <option value="Bangladesh">Bangladesh</option>
                <option value="Barbados">Barbados</option>
                <option value="Belarus">Belarus</option>
                <option value="Belgium">Belgium</option>
                <option value="Belize">Belize</option>
                <option value="Benin">Benin</option>
                <option value="Bhutan">Bhutan</option>
                <option value="Bolivia">Bolivia</option>
                <option value="Bosnia and Herzegovina">
                  Bosnia and Herzegovina
                </option>
                <option value="Botswana">Botswana</option>
                <option value="Brazil">Brazil</option>
                <option value="Brunei">Brunei</option>
                <option value="Bulgaria">Bulgaria</option>
                <option value="Burkina Faso">Burkina Faso</option>
                <option value="Burundi">Burundi</option>
                <option value="Cambodia">Cambodia</option>
                <option value="Cameroon">Cameroon</option>
                <option value="Cape Verde">Cape Verde</option>
                <option value="Central African Republic">
                  Central African Republic
                </option>
                <option value="Chad">Chad</option>
                <option value="Chile">Chile</option>
                <option value="China">China</option>
                <option value="Colombia">Colombia</option>
                <option value="Comoros">Comoros</option>
                <option value="Congo">Congo</option>
                <option value=""Cost"a Rica">"Cost"a Rica</option>
                <option value="Croatia">Croatia</option>
                <option value="Cuba">Cuba</option>
                <option value="Cyprus">Cyprus</option>
                <option value="Czech Republic">Czech Republic</option>
                <option value="Denmark">Denmark</option>
                <option value="Djibouti">Djibouti</option>
                <option value="Dominica">Dominica</option>
                <option value="Dominican Republic">Dominican Republic</option>
                <option value="East Timor">East Timor</option>
                <option value="Ecuador">Ecuador</option>
                <option value="Egypt">Egypt</option>
                <option value="El Salvador">El Salvador</option>
                <option value="Equatorial Guinea">Equatorial Guinea</option>
                <option value="Eritrea">Eritrea</option>
                <option value="Estonia">Estonia</option>
                <option value="Ethiopia">Ethiopia</option>
                <option value="Fiji">Fiji</option>
                <option value="Finland">Finland</option>
                <option value="France">France</option>
                <option value="Gabon">Gabon</option>
                <option value="Gambia">Gambia</option>
                <option value="Georgia">Georgia</option>
                <option value="Germany">Germany</option>
                <option value="Ghana">Ghana</option>
                <option value="Greece">Greece</option>
                <option value="Grenada">Grenada</option>
                <option value="Guatemala">Guatemala</option>
                <option value="Guinea">Guinea</option>
                <option value="Guinea-Bissau">Guinea-Bissau</option>
                <option value="Guyana">Guyana</option>
                <option value="Haiti">Haiti</option>
                <option value="Honduras">Honduras</option>
                <option value="Hong Kong">Hong Kong</option>
                <option value="Hungary">Hungary</option>
                <option value="Iceland">Iceland</option>
                <option value="India">India</option>
                <option value="Indonesia">Indonesia</option>
                <option value="Iran">Iran</option>
                <option value="Iraq">Iraq</option>
                <option value="Ireland">Ireland</option>
                <option value="Israel">Israel</option>
                <option value="Italy">Italy</option>
                <option value="Jamaica">Jamaica</option>
                <option value="Japan">Japan</option>
                <option value="Jordan">Jordan</option>
                <option value="Kazakhstan">Kazakhstan</option>
                <option value="Kenya">Kenya</option>
                <option value="Kiribati">Kiribati</option>
                <option value="Korea, North">Korea, North</option>
                <option value="Korea, South">Korea, South</option>
                <option value="Kuwait">Kuwait</option>
                <option value="Kyrgyzstan">Kyrgyzstan</option>
                <option value="Laos">Laos</option>
                <option value="Latvia">Latvia</option>
                <option value="Lebanon">Lebanon</option>
                <option value="Lesotho">Lesotho</option>
                <option value="Liberia">Liberia</option>
                <option value="Libya">Libya</option>
                <option value="Liechtenstein">Liechtenstein</option>
                <option value="Lithuania">Lithuania</option>
                <option value="Luxembourg">Luxembourg</option>
                <option value="Macedonia">Macedonia</option>
                <option value="Madagascar">Madagascar</option>
                <option value="Malawi">Malawi</option>
                <option value="Malaysia">Malaysia</option>
                <option value="Maldives">Maldives</option>
                <option value="Mali">Mali</option>
                <option value="Malta">Malta</option>
                <option value="Marshall Islands">Marshall Islands</option>
                <option value="Mauritania">Mauritania</option>
                <option value="Mauritius">Mauritius</option>
                <option value="Mexico">Mexico</option>
                <option value="Micronesia">Micronesia</option>
                <option value="Moldova">Moldova</option>
                <option value="Monaco">Monaco</option>
                <option value="Mongolia">Mongolia</option>
                <option value="Montenegro">Montenegro</option>
                <option value="Morocco">Morocco</option>
                <option value="Mozambique">Mozambique</option>
                <option value="Myanmar">Myanmar</option>
                <option value="Namibia">Namibia</option>
                <option value="Nauru">Nauru</option>
                <option value="Nepal">Nepal</option>
                <option value="Netherlands">Netherlands</option>
                <option value="New Zealand">New Zealand</option>
                <option value="Nicaragua">Nicaragua</option>
                <option value="Niger">Niger</option>
                <option value="Nigeria">Nigeria</option>
                <option value="Norway">Norway</option>
                <option value="Oman">Oman</option>
                <option value="Pakistan">Pakistan</option>
                <option value="Palau">Palau</option>
                <option value="Panama">Panama</option>
                <option value="Papua New Guinea">Papua New Guinea</option>
                <option value="Paraguay">Paraguay</option>
                <option value="Peru">Peru</option>
                <option value="Philippines">Philippines</option>
                <option value="Poland">Poland</option>
                <option value="Portugal">Portugal</option>
                <option value="Qatar">Qatar</option>
                <option value="Romania">Romania</option>
                <option value="Russia">Russia</option>
                <option value="Rwanda">Rwanda</option>
                <option value="Saint Kitts and Nevis">
                  Saint Kitts and Nevis
                </option>
                <option value="Saint Lucia">Saint Lucia</option>
                <option value="Saint Vincent">Saint Vincent</option>
                <option value="Samoa">Samoa</option>
                <option value="San Marino">San Marino</option>
                <option value="Sao Tome and Principe">
                  Sao Tome and Principe
                </option>
                <option value="Saudi Arabia">Saudi Arabia</option>
                <option value="Senegal">Senegal</option>
                <option value="Serbia">Serbia</option>
                <option value="Seychelles">Seychelles</option>
                <option value="Sierra Leone">Sierra Leone</option>
                <option value="Singapore">Singapore</option>
                <option value="Slovakia">Slovakia</option>
                <option value="Slovenia">Slovenia</option>
                <option value="Solomon Islands">Solomon Islands</option>
                <option value="Somalia">Somalia</option>
                <option value="South Africa">South Africa</option>
                <option value="Spain">Spain</option>
                <option value="Sri Lanka">Sri Lanka</option>
                <option value="Sudan">Sudan</option>
                <option value="Suriname">Suriname</option>
                <option value="Swaziland">Swaziland</option>
                <option value="Sweden">Sweden</option>
                <option value="Switzerland">Switzerland</option>
                <option value="Syria">Syria</option>
                <option value="Taiwan">Taiwan</option>
                <option value="Tajikistan">Tajikistan</option>
                <option value="Tanzania">Tanzania</option>
                <option value="Thailand">Thailand</option>
                <option value="Togo">Togo</option>
                <option value="Tonga">Tonga</option>
                <option value="Trinidad and Tobago">Trinidad and Tobago</option>
                <option value="Tunisia">Tunisia</option>
                <option value="Turkey">Turkey</option>
                <option value="Turkmenistan">Turkmenistan</option>
                <option value="Tuvalu">Tuvalu</option>
                <option value="Uganda">Uganda</option>
                <option value="Ukraine">Ukraine</option>
                <option value="United Arab Emirates">
                  United Arab Emirates
                </option>
                <option value="Uruguay">Uruguay</option>
                <option value="Uzbekistan">Uzbekistan</option>
                <option value="Vanuatu">Vanuatu</option>
                <option value="Vatican City">Vatican City</option>
                <option value="Venezuela">Venezuela</option>
                <option value="Vietnam">Vietnam</option>
                <option value="Yemen">Yemen</option>
                <option value="Zambia">Zambia</option>
                <option value="Zimbabwe">Zimbabwe</option>
              </select>
            </div>

            <div class="terms-group">
              <label class="checkbox-label">
                <input type="checkbox" required id="terms-checkbox" />
                <span class="checkbox-text" style="font-size: 0.5em">
                  I confirm that I am 18 years or older and agree to the
                  <a href="#" target="_blank">Terms and Conditions</a>,
                  <a href="#" target="_blank">Privacy Notice</a>,
                  <a href="#" target="_blank">Cookies Notice</a>, and
                  <a href="#" target="_blank">Refund/Chargeback Policy</a>
                </span>
              </label>
            </div>

            <div class="payment-due">
              <h3>Payment Due</h3>
              <span class="total-amount">$0.00</span>
            </div>

            <button type="submit" class="checkout-button" disabled>
              Proceed to Payment
            </button>

            <div class="trust-elements">
              <div class="security-badges">
                <div class="security-badge">
                  <i class="fas fa-lock"></i>
                  <span>256-bit SSL Encryption</span>
                </div>
                <div class="security-badge">
                  <i class="fas fa-shield-alt"></i>
                  <span>100% Secure</span>
                </div>
                <div class="security-badge">
                  <i class="fas fa-check-circle"></i>
                  <span>Verified Processors</span>
                </div>
              </div>

              <div class="payment-processors">
                <img src="https://placehold.co/120x40?text=Visa" alt="Visa" />
                <img
                  src="https://placehold.co/120x40?text=Mastercard"
                  alt="Mastercard"
                />
                <img
                  src="https://placehold.co/120x40?text=Crypto"
                  alt="Cryptocurrency"
                />
              </div>
            </div>
          </form>
        </div>

        <!-- Challenge Conditions Section -->
        <div class="challenge-conditions">
          <h2>Challenge Conditions</h2>
          <div class="conditions-table">
            <p
              class="initial-message"
              style="text-align: center; padding: 20px"
            >
              Select a challenge type and amount to view conditions
            </p>
          </div>
          <p class="important">
            Important: In order to remain eligible to trade a Funded Account,
            always ensure that you trade in accordance with our
            <a href="#">Rules and Terms & Conditions</a>.
          </p>
        </div>
      </div>
    </div>

    <div class="support-widget">
      <button class="support-button">
        <i class="fas fa-headset"></i>
        Need Help? Contact Support
      </button>
    </div>

    <!-- Payment Modal -->
    <div class="payment-modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Choose Payment Method</h2>
        <div class="selected-amount"></div>
        <div class="crypto-discount">
          <i class="fas fa-percentage"></i> 25% Discount when paying with
          Crypto!
        </div>
        <div class="payment-options">
          <div class="payment-method">
            <img
              src="https://images.squarespace-cdn.com/content/671a7c76f71cd76959a8b7d8/4b587f71-5897-42cf-aff2-304a3d2be209/crypto.png?content-type=image%2Fpng"
              alt="Crypto"
              class="payment-method-logo"
              onerror="this.onerror=null; console.error('Failed to load crypto image:', this.src);"
            />
            <button class="payment-option" data-payment-type="crypto">
            Pay with Cryptocurrency
          </button>
          </div>
          <div class="payment-method">
            <img
              src="https://images.squarespace-cdn.com/content/671a7c76f71cd76959a8b7d8/ba129e5d-e127-4bfa-923a-2171570e43b8/stripe.png?content-type=image%2Fpng"
              alt="Stripe"
              class="payment-method-logo"
              onerror="this.onerror=null; console.error('Failed to load stripe image:', this.src);"
            />
            <button class="payment-option" data-payment-type="stripe">
            Pay with Card
          </button>
          </div>
        </div>
        <p class="redirect-notice">
          You'll be securely redirected to complete your purchase and
          automatically returned once completed.
        </p>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Challenge options for each type
        const challengeOptions = {
          Gauntlet: ["$50,000", "$100,000", "$300,000"],
          Ascendant: ["$10,000", "$25,000", "$50,000"],
          Standard: ["$10,000", "$25,000", "$50,000", "$100,000"],
        };

        // Prices for each challenge type and amount
        const prices = {
          Gauntlet: {
            "$50,000": "50",
            "$100,000": "100",
            "$300,000": "250",
          },
          Ascendant: {
            "$10,000": "250",
            "$25,000": "500",
            "$50,000": "1000",
          },
          Standard: {
            "$10,000": "100",
            "$25,000": "200",
            "$50,000": "300",
            "$100,000": "450",
          },
        };

        // Payment links for each payment method, challenge type, and amount
        const paymentLinks = {
          crypto: {
            Gauntlet: {
              "$50,000": "https://crypto.com/gauntlet_50k",
              "$100,000": "https://crypto.com/gauntlet_100k",
              "$300,000": "https://crypto.com/gauntlet_300k",
            },
            Ascendant: {
              "$10,000": "https://crypto.com/ascendant_10k",
              "$25,000": "https://crypto.com/ascendant_25k",
              "$50,000": "https://crypto.com/ascendant_50k",
            },
            Standard: {
              "$10,000": "https://crypto.com/standard_10k",
              "$25,000": "https://crypto.com/standard_25k",
              "$50,000": "https://crypto.com/standard_50k",
              "$100,000": "https://crypto.com/standard_100k",
            },
          },
          stripe: {
            Gauntlet: {
              "$50,000": "https://buy.stripe.com/cN24hV1bbejC1FK5kk",
              "$100,000": "https://buy.stripe.com/aEUbKn0778Zi4RWcMN",
              "$300,000": "https://buy.stripe.com/cN29Cf2ff1wQ848dQS",
            },
            Ascendant: {
              "$10,000": "https://buy.stripe.com/5kAcOr5rrb7qdos28b",
              "$25,000": "https://buy.stripe.com/aEU7u79HH6Raesw4gk",
              "$50,000": "https://buy.stripe.com/00g29N3jj5N698c149",
            },
            Standard: {
              "$10,000": "https://buy.stripe.com/dR615J2ff3EYdos9AG",
              "$25,000": "https://buy.stripe.com/fZe8ybdXXa3m98ccMT",
              "$50,000": "https://buy.stripe.com/8wM8yb6vv5N60BGeV2",
              "$100,000": "https://buy.stripe.com/dR6dSvf21cbu98c3cl",
            },
          },
          paypal: {
            Gauntlet: {
              "$50,000": "https://paypal.com/gauntlet_50k",
              "$100,000": "https://paypal.com/gauntlet_100k",
              "$300,000": "https://paypal.com/gauntlet_300k",
            },
            Ascendant: {
              "$10,000": "https://paypal.com/ascendant_10k",
              "$25,000": "https://paypal.com/ascendant_25k",
              "$50,000": "https://paypal.com/ascendant_50k",
            },
            Standard: {
              "$10,000": "https://paypal.com/standard_10k",
              "$25,000": "https://paypal.com/standard_25k",
              "$50,000": "https://paypal.com/standard_50k",
              "$100,000": "https://paypal.com/standard_100k",
            },
          },
          wise: {
            Gauntlet: {
              "$50,000": "https://wise.com/gauntlet_50k",
              "$100,000": "https://wise.com/gauntlet_100k",
              "$300,000": "https://wise.com/gauntlet_300k",
            },
            Ascendant: {
              "$10,000": "https://wise.com/ascendant_10k",
              "$25,000": "https://wise.com/ascendant_25k",
              "$50,000": "https://wise.com/ascendant_50k",
            },
            Standard: {
              "$10,000": "https://wise.com/standard_10k",
              "$25,000": "https://wise.com/standard_25k",
              "$50,000": "https://wise.com/standard_50k",
              "$100,000": "https://wise.com/standard_100k",
            },
          },
        };

        // Performance metrics data structure
        const performanceMetrics = {
          Gauntlet: {
            "$50,000": {
              steps: {
                "STEP 1": {
                        "Initial Balance": "$50,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "5% DISCOUNT",
                        "Cost": "$50",
                },
                "STEP 2": {
                        "Initial Balance": "$50,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "-",
                        "Cost": "-",
                },
                "STEP 3": {
                        "Initial Balance": "$50,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "-",
                        "Cost": "-",
                },
                "FUNDED": {
                        "Initial Balance": "$50,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "3%",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "UP TO 100%",
                        "Bonus": "-",
                        "Cost": "$150",
                },
              },
            },
            "$100,000": {
              steps: {
                "STEP 1": {
                        "Initial Balance": "$100,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "5% DISCOUNT",
                        "Cost": "$100",
                },
                "STEP 2": {
                        "Initial Balance": "$100,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "-",
                        "Cost": "-",
                },
                "STEP 3": {
                        "Initial Balance": "$100,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "-",
                        "Cost": "-",
                },
                "FUNDED": {
                        "Initial Balance": "$100,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "3%",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "UP TO 100%",
                        "Bonus": "-",
                        "Cost": "$200",
                },
              },
            },
            "$300,000": {
              steps: {
                "STEP 1": {
                        "Initial Balance": "$300,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "5% DISCOUNT",
                        "Cost": "$250",
                },
                "STEP 2": {
                        "Initial Balance": "$300,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "-",
                        "Cost": "-",
                },
                "STEP 3": {
                        "Initial Balance": "$300,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "-",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "-",
                        "Bonus": "-",
                        "Cost": "-",
                },
                "FUNDED": {
                        "Initial Balance": "$300,000",
                        "Profit Target": "6%",
                        "Max Loss": "6%",
                        "Max Daily Loss": "3%",
                        "Leverage": "1:50",
                        "Time Limit": "UNLIMITED",
                        "Profit Share": "UP TO 100%",
                        "Bonus": "-",
                        "Cost": "$300",
                },
              },
            },
          },
          Ascendant: {
            "$10,000": {
              steps: {
                "STEP 1": {
                  "Initial Balance": "$10,000",
                  "Evaluation Target": "10%",
                  "Max Loss": "8%",
                  "Max Daily Loss": "4%",
                  "Leverage": "1:50",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "up to 100%",
                  "Bonus": "From $15",
                  "One Time Fee": "$250"
                },
                "FUNDED": {
                  "Initial Balance": "$10,000",
                  "Evaluation Target": "10%",
                  "Max Loss": "8%",
                  "Max Daily Loss": "4%",
                  "Leverage": "1:50",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "up to 100%",
                  "Bonus": "-",
                  "One Time Fee": "-"
                }
              }
            },
            "$25,000": {
              steps: {
                "STEP 1": {
                  "Initial Balance": "$25,000",
                  "Evaluation Target": "10%",
                  "Max Loss": "8%",
                  "Max Daily Loss": "4%",
                  "Leverage": "1:50",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "up to 100%",
                  "Bonus": "From $25",
                  "One Time Fee": "$500"
                },
                "FUNDED": {
                  "Initial Balance": "$25,000",
                  "Evaluation Target": "10%",
                  "Max Loss": "8%",
                  "Max Daily Loss": "4%",
                  "Leverage": "1:50",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "up to 100%",
                  "Bonus": "-",
                  "One Time Fee": "-"
                }
              }
            },
            "$50,000": {
              steps: {
                "STEP 1": {
                  "Initial Balance": "$50,000",
                  "Evaluation Target": "10%",
                  "Max Loss": "8%",
                  "Max Daily Loss": "4%",
                  "Leverage": "1:50",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "up to 100%",
                  "Bonus": "From $50",
                  "One Time Fee": "$1000"
                },
                "FUNDED": {
                  "Initial Balance": "$50,000",
                  "Evaluation Target": "10%",
                  "Max Loss": "8%",
                  "Max Daily Loss": "4%",
                  "Leverage": "1:50",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "up to 100%",
                  "Bonus": "-",
                  "One Time Fee": "-"
                }
              }
            }
          },
          Standard: {
            "$10,000": {
              steps: {
                "STEP 1": {
                  "Initial Balance": "$10,000",
                  "Profit Target": "8%",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "-",
                  "Cost": "$100"
                },
                "STEP 2": {
                  "Initial Balance": "$10,000",
                  "Profit Target": "5%",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "-",
                  "Cost": "-"
                },
                "FUNDED": {
                  "Initial Balance": "$10,000",
                  "Profit Target": "10% for scaling",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "Up to 100%",
                  "Cost": "-"
                }
              }
            },
            "$25,000": {
              steps: {
                "STEP 1": {
                  "Initial Balance": "$25,000",
                  "Profit Target": "8%",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "-",
                  "Cost": "$200"
                },
                "STEP 2": {
                  "Initial Balance": "$25,000",
                  "Profit Target": "5%",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "-",
                  "Cost": "-"
                },
                "FUNDED": {
                  "Initial Balance": "$25,000",
                  "Profit Target": "10% for scaling",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "Up to 100%",
                  "Cost": "-"
                }
              }
            },
            "$50,000": {
              steps: {
                "STEP 1": {
                  "Initial Balance": "$50,000",
                  "Profit Target": "8%",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "-",
                  "Cost": "$300"
                },
                "STEP 2": {
                  "Initial Balance": "$50,000",
                  "Profit Target": "5%",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "-",
                  "Cost": "-"
                },
                "FUNDED": {
                  "Initial Balance": "$50,000",
                  "Profit Target": "10% for scaling",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "Up to 100%",
                  "Cost": "-"
                }
              }
            },
            "$100,000": {
              steps: {
                "STEP 1": {
                  "Initial Balance": "$100,000",
                  "Profit Target": "8%",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "-",
                  "Cost": "$450"
                },
                "STEP 2": {
                  "Initial Balance": "$100,000",
                  "Profit Target": "5%",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "-",
                  "Cost": "-"
                },
                "FUNDED": {
                  "Initial Balance": "$100,000",
                  "Profit Target": "10% for scaling",
                  "Max Loss": "10%",
                  "Max Daily Loss": "6%",
                  "Leverage": "1:100",
                  "Time Limit": "UNLIMITED",
                  "Profit Share": "Up to 100%",
                  "Cost": "-"
                }
              }
            }
          },
        };

        const challengeCards = document.querySelectorAll(".challenge-card");
        const challengeAmountSection =
          document.querySelector(".challenge-amount");
        const challengeOptionsContainer =
          document.querySelector(".amount-grid");
        const platformButtons = document.querySelectorAll(
          ".platform-buttons button"
        );
        const totalAmount = document.querySelector(".total-amount");
        const checkoutForm = document.querySelector(".checkout-form");
        const checkoutButton = document.querySelector(".checkout-button");
        const paymentModal = document.querySelector(".payment-modal");
        const closeModal = document.querySelector(".close-modal");
        const termsCheckbox = document.getElementById("terms-checkbox");

        // Initially hide the challenge amount section
        challengeAmountSection.style.display = "none";

        // Challenge Card Selection
        challengeCards.forEach((card) => {
          card.addEventListener("click", () => {
            challengeCards.forEach((c) => c.classList.remove("selected"));
            card.classList.add("selected");

            const selectedType = card.dataset.type;
            const amounts = challengeOptions[selectedType];

            // Show the challenge amount section
            challengeAmountSection.style.display = "block";

            // Update challenge options
            challengeOptionsContainer.innerHTML = amounts
              .map(
                (amount) => `
                  <button class="challenge-option" data-amount="${amount}">${amount}</button>
                `
              )
              .join("");

                  // Reset all total amounts when changing challenge type
                  const allTotalAmounts = document.querySelectorAll(".total-amount");
                  allTotalAmounts.forEach((amount) => {
                    amount.textContent = "$0.00";
                  });

            // Add click handlers to new amount buttons
            document.querySelectorAll(".challenge-option").forEach((option) => {
              option.addEventListener("click", () => {
                document
                  .querySelectorAll(".challenge-option")
                  .forEach((opt) => {
                    opt.classList.remove("selected");
                  });
                option.classList.add("selected");

                const selectedAmount = option.dataset.amount;
                const price = prices[selectedType][selectedAmount];

                      // Update both payment due sections
                      const allTotalAmounts =
                        document.querySelectorAll(".total-amount");
                      allTotalAmounts.forEach((amount) => {
                        amount.textContent = `$${price}`;
                      });

                if (
                  performanceMetrics[selectedType] &&
                  performanceMetrics[selectedType][selectedAmount]
                ) {
                  updateMetricsTable(selectedType, selectedAmount);
                }
              });
            });
          });
        });

        // Platform Selection
        platformButtons.forEach((button) => {
          button.addEventListener("click", () => {
            platformButtons.forEach((btn) => btn.classList.remove("selected"));
            button.classList.add("selected");
          });
        });

        // Form Submission
        checkoutForm.addEventListener("submit", (e) => {
          e.preventDefault();
          if (validateForm()) {
            paymentModal.classList.add("active");

            // Update selected amount in modal
            const selectedAmountDiv =
              document.querySelector(".selected-amount");
            const selectedType = document.querySelector(
              ".challenge-card.selected"
            )?.dataset.type;
            const selectedAmount = document.querySelector(
              ".challenge-option.selected"
            )?.dataset.amount;
            selectedAmountDiv.innerHTML = `Selected: <span style="color: white">${selectedType} ${selectedAmount}</span> - <span class="price">${totalAmount.textContent}</span>`;
          }
        });

        // Close Modal
        closeModal.addEventListener("click", () => {
          paymentModal.classList.remove("active");
        });

        // Add validation listener for terms checkbox
        termsCheckbox.addEventListener("change", validateForm);

        // Phone number formatting
        const phoneInput = document.getElementById("phone");
        phoneInput.addEventListener("input", (e) => {
          let x = e.target.value
            .replace(/\D/g, "")
            .match(/(\d{0,3})(\d{0,3})(\d{0,4})/);
          e.target.value = !x[2]
            ? x[1]
            : "(" + x[1] + ") " + x[2] + (x[3] ? "-" + x[3] : "");
        });

        // Email validation
        const emailInput = document.getElementById("email");
        emailInput.addEventListener("input", () => {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(emailInput.value)) {
            emailInput.setCustomValidity("Please enter a valid email address");
          } else {
            emailInput.setCustomValidity("");
          }
        });

        function updateMetricsTable(selectedType, selectedAmount) {
          const metrics = performanceMetrics[selectedType][selectedAmount];
          const steps = metrics.steps;
          const conditionsTable = document.querySelector(".conditions-table");

          // Remove initial message if it exists
          const initialMessage =
            conditionsTable.querySelector(".initial-message");
          if (initialMessage) {
            initialMessage.remove();
          }

          // Create table headers
          const headers = Object.keys(steps);
          const rowMetrics = Object.keys(Object.values(steps)[0]);

          // Create table HTML
          let tableHTML = `
            <table>
              <tr>
                <th>Rules</th>
                ${headers.map((header) => `<th>${header}</th>`).join("")}
              </tr>
              ${rowMetrics
                .map(
                  (metric) => `
                <tr>
                  <td>${metric}</td>
                  ${headers
                    .map(
                      (step) => `
                    <td>${steps[step][metric]}</td>
                  `
                    )
                    .join("")}
                </tr>
              `
                )
                .join("")}
            </table>
          `;

          conditionsTable.innerHTML = tableHTML;
          highlightChanges(selectedType, selectedAmount);
        }

        function highlightChanges(selectedType, selectedAmount) {
          const cells = document.querySelectorAll('.conditions-table td:not(:first-child)');
          
          // Remove all existing highlights
          cells.forEach(cell => cell.classList.remove('highlight'));

          // Get all rows
          const rows = document.querySelectorAll('.conditions-table tr');
          
          // Find only the Profit Share row
          rows.forEach(row => {
            const firstCell = row.querySelector('td:first-child');
            if (firstCell && firstCell.textContent === 'Profit Share') {
              // Get the last cell in the row (Funded Trader column)
              const lastCell = row.querySelector('td:last-child');
              if (lastCell && lastCell.textContent !== '-') {
                lastCell.classList.add('highlight');
              }
            }
          });
        }

        // Form Validation
        function validateForm() {
          const requiredFields = document.querySelectorAll(
            "input[required], select[required]"
          );
          let isValid = true;

          // Clear previous error states
          document.querySelectorAll(".form-group").forEach((group) => {
            group.classList.remove("error");
          });

          requiredFields.forEach((field) => {
            const formGroup = field.closest(".form-group");
            if (!field.value.trim()) {
              isValid = false;
              formGroup.classList.add("error");

              // Create error message if it doesn't exist
              if (!formGroup.querySelector(".error-message")) {
                const errorMsg = document.createElement("div");
                errorMsg.className = "error-message";
                errorMsg.textContent = `${field.previousElementSibling.textContent.replace(
                  " *",
                  ""
                )} is required`;
                formGroup.appendChild(errorMsg);
              }
            }
          });

          const selectedType = document.querySelector(
            ".challenge-card.selected"
          );
          const selectedAmount = document.querySelector(
            ".challenge-option.selected"
          );
          const selectedPlatform = document.querySelector(
            ".platform-buttons button.selected"
          );

          // Challenge type validation
          const challengeTypeSection =
            document.querySelector(".challenge-type");
          if (!selectedType) {
            isValid = false;
            if (!challengeTypeSection.querySelector(".error-message")) {
              const errorMsg = document.createElement("div");
              errorMsg.className = "error-message";
              errorMsg.textContent = "Please select a challenge type";
              challengeTypeSection.appendChild(errorMsg);
            }
          } else {
            const errorMsg =
              challengeTypeSection.querySelector(".error-message");
            if (errorMsg) errorMsg.remove();
          }

          // Amount validation (only if challenge type is selected)
          if (selectedType && !selectedAmount) {
            isValid = false;
            const amountSection = document.querySelector(".challenge-amount");
            if (!amountSection.querySelector(".error-message")) {
              const errorMsg = document.createElement("div");
              errorMsg.className = "error-message";
              errorMsg.textContent = "Please select an amount";
              amountSection.appendChild(errorMsg);
            }
          }

          // Platform validation
          const platformSection = document.querySelector(".platform-select");
          if (!selectedPlatform) {
            isValid = false;
            if (!platformSection.querySelector(".error-message")) {
              const errorMsg = document.createElement("div");
              errorMsg.className = "error-message";
              errorMsg.textContent = "Please select a platform";
              platformSection.appendChild(errorMsg);
            }
          } else {
            const errorMsg = platformSection.querySelector(".error-message");
            if (errorMsg) errorMsg.remove();
          }

          // Terms validation
          const termsGroup = document.querySelector(".terms-group");
          if (!termsCheckbox.checked) {
            isValid = false;
            if (!termsGroup.querySelector(".error-message")) {
              const errorMsg = document.createElement("div");
              errorMsg.className = "error-message";
              errorMsg.textContent = "You must accept the terms and conditions";
              termsGroup.appendChild(errorMsg);
            }
          } else {
            const errorMsg = termsGroup.querySelector(".error-message");
            if (errorMsg) errorMsg.remove();
          }

          checkoutButton.disabled = !isValid;
          return isValid;
        }

        // Add validation listeners
        document.querySelectorAll("input, select").forEach((input) => {
          input.addEventListener("input", validateForm);
          input.addEventListener("change", validateForm);
        });

              // Function to generate a unique order ID
              function generateOrderId() {
                const timestamp = new Date().getTime().toString().slice(-6);
                const random = Math.random()
                  .toString(36)
                  .substring(2, 5)
                  .toUpperCase();
                return `AM${timestamp}${random}`;
              }

              // Function to show notification
              function showNotification(message, isError = false) {
                const notification = document.createElement("div");
                notification.style.cssText = `
                  position: fixed;
                  bottom: 20px;
                  right: 20px;
                  background: ${isError ? "#ff4444" : "#4caf50"};
                  color: white;
                  padding: 15px 25px;
                  border-radius: 5px;
                  z-index: 10000;
                  animation: slideIn 0.5s ease;
                `;
                notification.textContent = message;
                document.body.appendChild(notification);

                setTimeout(() => {
                  notification.style.animation = "slideOut 0.5s ease";
                  setTimeout(() => notification.remove(), 500);
                }, 3000);
              }

              // Function to validate form data
              function validateUserData(userData) {
                const required = [
                  "firstName",
                  "lastName",
                  "email",
                  "phone",
                  "country",
                ];
                const missing = required.filter((field) => !userData[field]);

                // Clear previous validation errors
                document.querySelectorAll(".validation-error").forEach((el) => {
                  el.classList.remove("validation-error");
                });

                // Add validation errors
                if (missing.length > 0) {
                  missing.forEach((field) => {
                    const input = document.getElementById(field);
                    if (input) input.classList.add("validation-error");
                  });
                  throw new Error(`Please fill in all required fields`);
                }

                // Validate challenge selection
                const challengeCard = document.querySelector(
            ".challenge-card.selected"
                );
                const challengeOption = document.querySelector(
            ".challenge-option.selected"
                );
                const platformButton = document.querySelector(
                  ".platform-buttons button.selected"
                );

                if (!challengeCard || !challengeOption) {
                  document
                    .querySelector(".challenge-type-grid")
                    .classList.add("validation-error");
                  throw new Error("Please select a challenge type and amount");
                }

                if (!platformButton) {
                  document
                    .querySelector(".platform-buttons")
                    .classList.add("validation-error");
                  throw new Error("Please select a trading platform");
                }

                return true;
              }

              // Function to apply crypto discount
              function applyCryptoDiscount(price) {
                return Math.round(price * 0.75); // 25% discount
              }

              // Update the payment modal to show discounted price
              function updatePaymentModal(type, amount) {
                const regularPrice = prices[type]?.[amount] || 0;
                const cryptoPrice = applyCryptoDiscount(regularPrice);

                const selectedAmount = document.querySelector(".selected-amount");
                selectedAmount.innerHTML = `
                  <p>Selected Package: ${type} ${amount}</p>
                  <p class="price">Regular Price: $${regularPrice}</p>
                  <p class="price" style="color: #4caf50">Crypto Price: $${cryptoPrice}</p>
                `;
              }

              // Update handlePayment function to include crypto discount
              async function handlePayment(paymentType, userData) {
                try {
                  validateUserData(userData);

                  // Apply crypto discount if applicable
                  if (paymentType === "crypto") {
                    userData.orderDetails.price = applyCryptoDiscount(
                      userData.orderDetails.price
                    );
                  }

                  // Create email body
                  const emailBody = createEmailBody(userData);

                  // Send to Formspree
                  const formData = new FormData();
                  formData.append(
                    "_subject",
                    `[IMPORTANT] New Order ${userData.orderDetails.orderId}`
                  );
                  formData.append("_replyto", userData.email);
                  formData.append("_format", "plain");
                  formData.append("email", "support@ascendantcapital.ca");
                  formData.append(
                    "subject",
                    `New Order ${userData.orderDetails.orderId} - ${userData.orderDetails.challengeType} ${userData.orderDetails.amount}`
                  );
                  formData.append("message", emailBody);

                  const response = await fetch("https://formspree.io/f/mvggvejz", {
                    method: "POST",
                    body: formData,
                    headers: { Accept: "application/json" },
                  });

                  if (!response.ok) {
                    throw new Error("Failed to send notification");
                  }

                  // Store order in localStorage with prefix
                  localStorage.setItem(
                    `order_${userData.orderDetails.orderId}`,
                    JSON.stringify(userData)
                  );

                  showNotification("Order received! Redirecting to payment...");

                  // Handle payment redirect
            if (paymentType === "stripe") {
              const stripeLink =
                      paymentLinks.stripe[userData.orderDetails.challengeType][
                        userData.orderDetails.amount
                      ];
                    if (!stripeLink) {
                      throw new Error("Stripe payment link not found");
                    }
                    window.location.href = stripeLink;
            } else if (paymentType === "crypto") {
                    const amount = userData.orderDetails.price;
                    if (!amount) {
                      throw new Error("Crypto payment amount not found");
                    }
                    window.location.href = `crypto-payment.html?amount=${amount}&ref=${btoa(
                      JSON.stringify(userData)
                    )}`;
                  }
                } catch (error) {
                  console.error("Payment process error:", error);
                  showNotification(
                    error.message || "Error processing order. Please try again.",
                    true
                  );
                }
              }

              // Function to create email body
              function createEmailBody(userData) {
                return `
      New Order - ${userData.orderDetails.orderId}
      -----------------
      CUSTOMER DETAILS
      -----------------
      Name: ${userData.firstName} ${userData.lastName}
      Email: ${userData.email}
      Phone: ${userData.countryCode} ${userData.phone}
      Country: ${userData.country}

      -----------------
      ORDER DETAILS
      -----------------
      Challenge Type: ${userData.orderDetails.challengeType}
      Amount: ${userData.orderDetails.amount}
      Platform: ${userData.orderDetails.platform}
      Price: $${userData.orderDetails.price}
      Payment Method: ${userData.orderDetails.paymentMethod.toUpperCase()}
      Order ID: ${userData.orderDetails.orderId}
      Timestamp: ${new Date(userData.timestamp).toLocaleString()}

      ${
        userData.orderDetails.paymentMethod === "crypto"
          ? `-----------------
      CRYPTO PAYMENT INFO
      -----------------
      Please match this Order ID with incoming crypto payment.
      Customer will be shown BTC, ETH, and USDT(TRC20) payment options.`
          : `-----------------
      STRIPE PAYMENT INFO
      -----------------
      Payment will be processed through Stripe.
      Order confirmation will be sent automatically.`
      }
                `.trim();
              }

              // Add single click handler for payment options
              document.querySelectorAll(".payment-option").forEach((button) => {
                button.addEventListener("click", function () {
                  try {
                    const paymentType = this.dataset.paymentType;
                    const selectedType = document.querySelector(
                      ".challenge-card.selected"
                    )?.dataset.type;
                    const selectedAmount = document.querySelector(
                      ".challenge-option.selected"
                    )?.dataset.amount;
                    const selectedPlatform = document.querySelector(
                      ".platform-buttons button.selected"
                    )?.textContent;

                    if (!selectedType || !selectedAmount) {
                      throw new Error(
                        "Please select a challenge type and amount first."
                      );
                    }

                    if (!selectedPlatform) {
                      throw new Error("Please select a trading platform.");
                    }

                    // Collect user data
                    const userData = {
                      firstName: document.getElementById("firstName").value.trim(),
                      lastName: document.getElementById("lastName").value.trim(),
                      email: document.getElementById("email").value.trim(),
                      dob: document.getElementById("dob").value,
                      phone: document.getElementById("phone").value.trim(),
                      country: document.getElementById("country").value,
                      countryCode: document.getElementById("countryCode").value,
                      orderDetails: {
                        challengeType: selectedType,
                        amount: selectedAmount,
                        platform: selectedPlatform,
                        price: prices[selectedType]?.[selectedAmount] || 0,
                        paymentMethod: paymentType,
                        orderId: generateOrderId(),
                      },
                      timestamp: new Date().toISOString(),
                    };

                    // Store in localStorage
                    localStorage.setItem("userOrderData", JSON.stringify(userData));

                    // Process payment
                    handlePayment(paymentType, userData);
                  } catch (error) {
                    showNotification(error.message, true);
                  }
                });
        });

        // Close modal when clicking outside
        window.addEventListener("click", (e) => {
          if (e.target === paymentModal) {
            paymentModal.classList.remove("active");
          }
        });

        // Add scrolled class when user scrolls horizontally
        document
          .querySelector(".challenge-conditions")
          .addEventListener("scroll", (e) => {
            if (e.target.scrollLeft > 0) {
              e.target.classList.add("scrolled");
            } else {
              e.target.classList.remove("scrolled");
                  }
                });

              // Handle mobile payment section display
              function updateMobilePaymentSection() {
                const mobilePaymentSection = document.querySelector(
                  ".mobile-payment-section"
                );
                const regularTotalAmount = document.querySelector(
                  ".payment-due .total-amount"
                );
                const mobileTotalAmount =
                  mobilePaymentSection.querySelector(".total-amount");

                if (window.innerWidth <= 768) {
                  mobilePaymentSection.style.display = "block";
                  mobileTotalAmount.textContent = regularTotalAmount.textContent;
                } else {
                  mobilePaymentSection.style.display = "none";
                }
              }

              // Function to scroll to conditions table
              window.scrollToConditions = function () {
                const conditionsSection = document.querySelector(
                  ".challenge-conditions"
                );
                conditionsSection.scrollIntoView({ behavior: "smooth" });
              };

              // Update mobile payment section when amount changes
              const observer = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                  if (
                    mutation.type === "characterData" ||
                    mutation.type === "childList"
                  ) {
                    updateMobilePaymentSection();
                  }
                });
              });

              const totalAmountElement = document.querySelector(
                ".payment-due .total-amount"
              );
              observer.observe(totalAmountElement, {
                characterData: true,
                childList: true,
                subtree: true,
              });

              // Update on window resize
              window.addEventListener("resize", updateMobilePaymentSection);

              // Initial update
              updateMobilePaymentSection();

              // Function to update all total amounts
              function updateAllTotalAmounts(price) {
                // Update all total amount displays
                document.querySelectorAll(".total-amount").forEach((amount) => {
                  amount.textContent = `$${price}`;
                });

                // Update mobile payment section
                const mobilePaymentSection = document.querySelector(
                  ".mobile-payment-section"
                );
                if (mobilePaymentSection) {
                  const mobileTotalAmount =
                    mobilePaymentSection.querySelector(".total-amount");
                  if (mobileTotalAmount) {
                    mobileTotalAmount.textContent = `$${price}`;
                  }
                  // Show/hide based on screen size
                  mobilePaymentSection.style.display =
                    window.innerWidth <= 768 ? "block" : "none";
                }
              }

              // Challenge option click handler
              document.querySelectorAll(".challenge-option").forEach((option) => {
                option.addEventListener("click", () => {
                  // Remove selected class from all options
                  document.querySelectorAll(".challenge-option").forEach((opt) => {
                    opt.classList.remove("selected");
                  });
                  // Add selected class to clicked option
                  option.classList.add("selected");

                  // Get selected type and amount
                  const selectedType = document.querySelector(
                    ".challenge-card.selected"
                  ).dataset.type;
                  const selectedAmount = option.dataset.amount;
                  const price = prices[selectedType][selectedAmount];

                  // Update both payment due sections
                  const allTotalAmounts = document.querySelectorAll(".total-amount");
                  allTotalAmounts.forEach((amount) => {
                    amount.textContent = `$${price}`;
                  });

                  // Update metrics table if available
                  if (
                    performanceMetrics[selectedType] &&
                    performanceMetrics[selectedType][selectedAmount]
                  ) {
                    updateMetricsTable(selectedType, selectedAmount);
                  }
                });
              });

              // Update mobile payment section on window resize
              window.addEventListener("resize", () => {
                const mobilePaymentSection = document.querySelector(
                  ".mobile-payment-section"
                );
                if (mobilePaymentSection) {
                  mobilePaymentSection.style.display =
                    window.innerWidth <= 768 ? "block" : "none";
                }
              });

              // Initial setup for mobile payment section
              document.addEventListener("DOMContentLoaded", () => {
                const mobilePaymentSection = document.querySelector(
                  ".mobile-payment-section"
                );
                if (mobilePaymentSection) {
                  mobilePaymentSection.style.display =
                    window.innerWidth <= 768 ? "block" : "none";
                  // Copy initial amount if available
                  const mainAmount = document.querySelector(
                    ".payment-due .total-amount"
                  );
                  if (mainAmount) {
                    const mobileTotalAmount =
                      mobilePaymentSection.querySelector(".total-amount");
                    if (mobileTotalAmount) {
                      mobileTotalAmount.textContent = mainAmount.textContent;
                    }
                  }
            }
          });
      });
    </script>
  </body>
</html>
